{
  "score": 95.555556,
  "passes": false,
  "rating": "Watch",
  "breakdown": {
    "quality_score": 100.0,
    "readiness_score": 88.888889,
    "setup_score": 95.555556
  },
  "screener_name": "setup_engine",
  "setup_engine": {
    "schema_version": "v1",
    "timeframe": "daily",
    "setup_score": 95.555556,
    "quality_score": 100.0,
    "readiness_score": 88.888889,
    "setup_ready": false,
    "pattern_primary": "three_weeks_tight",
    "pattern_confidence": 95.0,
    "pivot_price": 113.12,
    "pivot_type": "tight_area_high",
    "pivot_date": "2023-04-28",
    "distance_to_pivot_pct": -0.9900990099009941,
    "atr14_pct": 2.000000556740509,
    "atr14_pct_trend": -8.806452402798481e-08,
    "bb_width_pct": 0.0,
    "bb_width_pctile_252": 61.50793650793651,
    "volume_vs_50d": 1.0,
    "rs": 0.21132075471698114,
    "rs_line_new_high": false,
    "rs_vs_spy_65d": -4.568308374330976,
    "rs_vs_spy_trend_20d": -0.0001505275466967132,
    "stage": 3,
    "ma_alignment_score": 30.0,
    "rs_rating": 62.36,
    "candidates": [
      {
        "pattern": "three_weeks_tight",
        "timeframe": "weekly",
        "source_detector": "three_weeks_tight",
        "pivot_price": 113.12,
        "pivot_type": "tight_area_high",
        "pivot_date": "2023-04-28",
        "distance_to_pivot_pct": 1.000000000000004,
        "setup_score": 95.611111,
        "quality_score": 100.0,
        "readiness_score": 88.888889,
        "confidence": 0.95,
        "confidence_pct": 95.0,
        "metrics": {
          "run_rank": 1,
          "weeks_tight": 8,
          "tight_mode": "strict",
          "tight_mode_threshold_pct": 1.0,
          "tight_band_pct": 0.0,
          "tight_range_pct": 2.0,
          "vol_vs_10w": 1.0,
          "run_start_date": "2023-04-28",
          "run_end_date": "2023-06-16",
          "median_close": 112.0,
          "recency_weeks": 0,
          "calibration_version": "cross_detector_v1",
          "calibration_source_detector": "three_weeks_tight",
          "raw_quality_score": 100.0,
          "raw_readiness_score": 90.0,
          "raw_confidence": 0.95,
          "raw_confidence_pct": 95.0,
          "normalized_quality_score_0_1": 1.0,
          "normalized_readiness_score_0_1": 0.888889,
          "normalized_confidence_0_1": 1.0,
          "calibrated_quality_score": 100.0,
          "calibrated_readiness_score": 88.888889,
          "calibrated_confidence": 0.95,
          "calibrated_confidence_pct": 95.0,
          "aggregation_rank_score": 0.950278,
          "candidate_setup_score": 95.611111,
          "setup_score_method": "candidate_blend_v1"
        },
        "checks": {
          "weeks_tight_min_met": true,
          "tight_band_ok": true,
          "tight_mode_strict": true,
          "tight_mode_relaxed": false
        },
        "notes": [
          "strict_relaxed_modes_evaluated",
          "cross_detector_calibration_v1_applied"
        ]
      },
      {
        "pattern": "three_weeks_tight",
        "timeframe": "weekly",
        "source_detector": "three_weeks_tight",
        "pivot_price": 113.12,
        "pivot_type": "tight_area_high",
        "pivot_date": "2023-04-21",
        "distance_to_pivot_pct": 1.000000000000004,
        "setup_score": 93.666667,
        "quality_score": 100.0,
        "readiness_score": 83.333333,
        "confidence": 0.95,
        "confidence_pct": 95.0,
        "metrics": {
          "run_rank": 2,
          "weeks_tight": 8,
          "tight_mode": "strict",
          "tight_mode_threshold_pct": 1.0,
          "tight_band_pct": 0.0,
          "tight_range_pct": 2.0,
          "vol_vs_10w": 1.0,
          "run_start_date": "2023-04-21",
          "run_end_date": "2023-06-09",
          "median_close": 112.0,
          "recency_weeks": 1,
          "calibration_version": "cross_detector_v1",
          "calibration_source_detector": "three_weeks_tight",
          "raw_quality_score": 100.0,
          "raw_readiness_score": 87.5,
          "raw_confidence": 0.95,
          "raw_confidence_pct": 95.0,
          "normalized_quality_score_0_1": 1.0,
          "normalized_readiness_score_0_1": 0.833333,
          "normalized_confidence_0_1": 1.0,
          "calibrated_quality_score": 100.0,
          "calibrated_readiness_score": 83.333333,
          "calibrated_confidence": 0.95,
          "calibrated_confidence_pct": 95.0,
          "aggregation_rank_score": 0.939167,
          "candidate_setup_score": 93.666667,
          "setup_score_method": "candidate_blend_v1"
        },
        "checks": {
          "weeks_tight_min_met": true,
          "tight_band_ok": true,
          "tight_mode_strict": true,
          "tight_mode_relaxed": false
        },
        "notes": [
          "strict_relaxed_modes_evaluated",
          "cross_detector_calibration_v1_applied"
        ]
      },
      {
        "pattern": "three_weeks_tight",
        "timeframe": "weekly",
        "source_detector": "three_weeks_tight",
        "pivot_price": 113.12,
        "pivot_type": "tight_area_high",
        "pivot_date": "2023-04-14",
        "distance_to_pivot_pct": 1.000000000000004,
        "setup_score": 91.722222,
        "quality_score": 100.0,
        "readiness_score": 77.777778,
        "confidence": 0.95,
        "confidence_pct": 95.0,
        "metrics": {
          "run_rank": 3,
          "weeks_tight": 8,
          "tight_mode": "strict",
          "tight_mode_threshold_pct": 1.0,
          "tight_band_pct": 0.0,
          "tight_range_pct": 2.0,
          "vol_vs_10w": 1.0,
          "run_start_date": "2023-04-14",
          "run_end_date": "2023-06-02",
          "median_close": 112.0,
          "recency_weeks": 2,
          "calibration_version": "cross_detector_v1",
          "calibration_source_detector": "three_weeks_tight",
          "raw_quality_score": 100.0,
          "raw_readiness_score": 85.0,
          "raw_confidence": 0.95,
          "raw_confidence_pct": 95.0,
          "normalized_quality_score_0_1": 1.0,
          "normalized_readiness_score_0_1": 0.777778,
          "normalized_confidence_0_1": 1.0,
          "calibrated_quality_score": 100.0,
          "calibrated_readiness_score": 77.777778,
          "calibrated_confidence": 0.95,
          "calibrated_confidence_pct": 95.0,
          "aggregation_rank_score": 0.928056,
          "candidate_setup_score": 91.722222,
          "setup_score_method": "candidate_blend_v1"
        },
        "checks": {
          "weeks_tight_min_met": true,
          "tight_band_ok": true,
          "tight_mode_strict": true,
          "tight_mode_relaxed": false
        },
        "notes": [
          "strict_relaxed_modes_evaluated",
          "cross_detector_calibration_v1_applied"
        ]
      },
      {
        "pattern": "three_weeks_tight",
        "timeframe": "weekly",
        "source_detector": "three_weeks_tight",
        "pivot_price": 113.12,
        "pivot_type": "tight_area_high",
        "pivot_date": "2023-04-07",
        "distance_to_pivot_pct": 1.000000000000004,
        "setup_score": 89.722218,
        "quality_score": 100.0,
        "readiness_score": 72.222222,
        "confidence": 0.944444,
        "confidence_pct": 94.4444,
        "metrics": {
          "run_rank": 4,
          "weeks_tight": 8,
          "tight_mode": "strict",
          "tight_mode_threshold_pct": 1.0,
          "tight_band_pct": 0.0,
          "tight_range_pct": 2.0,
          "vol_vs_10w": 1.0,
          "run_start_date": "2023-04-07",
          "run_end_date": "2023-05-26",
          "median_close": 112.0,
          "recency_weeks": 3,
          "calibration_version": "cross_detector_v1",
          "calibration_source_detector": "three_weeks_tight",
          "raw_quality_score": 100.0,
          "raw_readiness_score": 82.5,
          "raw_confidence": 0.95,
          "raw_confidence_pct": 95.0,
          "normalized_quality_score_0_1": 1.0,
          "normalized_readiness_score_0_1": 0.722222,
          "normalized_confidence_0_1": 1.0,
          "calibrated_quality_score": 100.0,
          "calibrated_readiness_score": 72.222222,
          "calibrated_confidence": 0.944444,
          "calibrated_confidence_pct": 94.4444,
          "aggregation_rank_score": 0.913889,
          "candidate_setup_score": 89.722218,
          "setup_score_method": "candidate_blend_v1"
        },
        "checks": {
          "weeks_tight_min_met": true,
          "tight_band_ok": true,
          "tight_mode_strict": true,
          "tight_mode_relaxed": false
        },
        "notes": [
          "strict_relaxed_modes_evaluated",
          "cross_detector_calibration_v1_applied"
        ]
      },
      {
        "pattern": "three_weeks_tight",
        "timeframe": "weekly",
        "source_detector": "three_weeks_tight",
        "pivot_price": 113.12,
        "pivot_type": "tight_area_high",
        "pivot_date": "2023-03-31",
        "distance_to_pivot_pct": 1.000000000000004,
        "setup_score": 87.666663,
        "quality_score": 100.0,
        "readiness_score": 66.666667,
        "confidence": 0.933333,
        "confidence_pct": 93.3333,
        "metrics": {
          "run_rank": 5,
          "weeks_tight": 8,
          "tight_mode": "strict",
          "tight_mode_threshold_pct": 1.0,
          "tight_band_pct": 0.0,
          "tight_range_pct": 2.0,
          "vol_vs_10w": 1.0,
          "run_start_date": "2023-03-31",
          "run_end_date": "2023-05-19",
          "median_close": 112.0,
          "recency_weeks": 4,
          "calibration_version": "cross_detector_v1",
          "calibration_source_detector": "three_weeks_tight",
          "raw_quality_score": 100.0,
          "raw_readiness_score": 80.0,
          "raw_confidence": 0.95,
          "raw_confidence_pct": 95.0,
          "normalized_quality_score_0_1": 1.0,
          "normalized_readiness_score_0_1": 0.666667,
          "normalized_confidence_0_1": 1.0,
          "calibrated_quality_score": 100.0,
          "calibrated_readiness_score": 66.666667,
          "calibrated_confidence": 0.933333,
          "calibrated_confidence_pct": 93.3333,
          "aggregation_rank_score": 0.896666,
          "candidate_setup_score": 87.666663,
          "setup_score_method": "candidate_blend_v1"
        },
        "checks": {
          "weeks_tight_min_met": true,
          "tight_band_ok": true,
          "tight_mode_strict": true,
          "tight_mode_relaxed": false
        },
        "notes": [
          "strict_relaxed_modes_evaluated",
          "cross_detector_calibration_v1_applied"
        ]
      },
      {
        "pattern": "high_tight_flag",
        "timeframe": "daily",
        "source_detector": "high_tight_flag",
        "pivot_price": 114.13,
        "pivot_type": "flag_high",
        "pivot_date": "2022-09-26",
        "distance_to_pivot_pct": null,
        "setup_score": 60.671659,
        "quality_score": 79.636594,
        "readiness_score": 27.631579,
        "confidence": 0.720048,
        "confidence_pct": 72.0048,
        "metrics": {
          "pole_rank": 1,
          "pole_start_date": "2022-08-01",
          "pole_end_date": "2022-09-23",
          "pole_window_bars": 40,
          "pole_return_pct": 113.1466,
          "pole_start_close": 53.9535,
          "pole_end_close": 115.0,
          "pole_interval_high": 116.15,
          "pole_interval_low": 53.414,
          "pole_volume_mean": 2500000.0,
          "pole_recency_bars": 190,
          "flag_start_date": "2022-09-26",
          "flag_end_date": "2022-09-28",
          "flag_duration_bars": 3,
          "flag_high": 114.13,
          "flag_low": 111.474,
          "flag_depth_pct": 2.3272,
          "flag_upper_half_floor": 84.782,
          "flag_upper_half_margin_pct": 42.5465,
          "flag_volume_mean": 500000.0,
          "flag_volume_ratio_vs_pole": 0.2,
          "flag_recency_bars": 187,
          "recency_weight": 0.0,
          "is_recent_flag": false,
          "calibration_version": "cross_detector_v1",
          "calibration_source_detector": "high_tight_flag",
          "raw_quality_score": 87.207395,
          "raw_readiness_score": 70.5,
          "raw_confidence": 0.814911,
          "raw_confidence_pct": 81.49109,
          "normalized_quality_score_0_1": 0.796366,
          "normalized_readiness_score_0_1": 0.276316,
          "normalized_confidence_0_1": 0.792171,
          "calibrated_quality_score": 79.636594,
          "calibrated_readiness_score": 27.631579,
          "calibrated_confidence": 0.720048,
          "calibrated_confidence_pct": 72.0048,
          "aggregation_rank_score": 0.650381,
          "candidate_setup_score": 60.671659,
          "setup_score_method": "candidate_blend_v1"
        },
        "checks": {
          "pole_window_in_range": true,
          "pole_return_threshold_met": true,
          "flag_duration_in_range": true,
          "flag_depth_in_range": true,
          "flag_in_upper_half": true,
          "flag_volume_contracting": true
        },
        "notes": [
          "pole_and_flag_validated",
          "pivot_from_flag_high",
          "cross_detector_calibration_v1_applied"
        ]
      },
      {
        "pattern": "high_tight_flag",
        "timeframe": "daily",
        "source_detector": "high_tight_flag",
        "pivot_price": 114.13,
        "pivot_type": "flag_high",
        "pivot_date": "2022-09-26",
        "distance_to_pivot_pct": null,
        "setup_score": 60.669049,
        "quality_score": 79.636594,
        "readiness_score": 27.631579,
        "confidence": 0.719787,
        "confidence_pct": 71.97869999999999,
        "metrics": {
          "pole_rank": 2,
          "pole_start_date": "2022-08-02",
          "pole_end_date": "2022-09-23",
          "pole_window_bars": 39,
          "pole_return_pct": 112.6882,
          "pole_start_close": 54.0698,
          "pole_end_close": 115.0,
          "pole_interval_high": 116.15,
          "pole_interval_low": 53.5291,
          "pole_volume_mean": 2538461.5385,
          "pole_recency_bars": 190,
          "flag_start_date": "2022-09-26",
          "flag_end_date": "2022-09-28",
          "flag_duration_bars": 3,
          "flag_high": 114.13,
          "flag_low": 111.474,
          "flag_depth_pct": 2.3272,
          "flag_upper_half_floor": 84.8395,
          "flag_upper_half_margin_pct": 42.5328,
          "flag_volume_mean": 500000.0,
          "flag_volume_ratio_vs_pole": 0.19697,
          "flag_recency_bars": 187,
          "recency_weight": 0.0,
          "is_recent_flag": false,
          "calibration_version": "cross_detector_v1",
          "calibration_source_detector": "high_tight_flag",
          "raw_quality_score": 87.207395,
          "raw_readiness_score": 70.5,
          "raw_confidence": 0.814601,
          "raw_confidence_pct": 81.460149,
          "normalized_quality_score_0_1": 0.796366,
          "normalized_readiness_score_0_1": 0.276316,
          "normalized_confidence_0_1": 0.791695,
          "calibrated_quality_score": 79.636594,
          "calibrated_readiness_score": 27.631579,
          "calibrated_confidence": 0.719787,
          "calibrated_confidence_pct": 71.9787,
          "aggregation_rank_score": 0.650237,
          "candidate_setup_score": 60.669049,
          "setup_score_method": "candidate_blend_v1"
        },
        "checks": {
          "pole_window_in_range": true,
          "pole_return_threshold_met": true,
          "flag_duration_in_range": true,
          "flag_depth_in_range": true,
          "flag_in_upper_half": true,
          "flag_volume_contracting": true
        },
        "notes": [
          "pole_and_flag_validated",
          "pivot_from_flag_high",
          "cross_detector_calibration_v1_applied"
        ]
      },
      {
        "pattern": "high_tight_flag",
        "timeframe": "daily",
        "source_detector": "high_tight_flag",
        "pivot_price": 114.13,
        "pivot_type": "flag_high",
        "pivot_date": "2022-09-26",
        "distance_to_pivot_pct": null,
        "setup_score": 60.666439,
        "quality_score": 79.636594,
        "readiness_score": 27.631579,
        "confidence": 0.719526,
        "confidence_pct": 71.9526,
        "metrics": {
          "pole_rank": 3,
          "pole_start_date": "2022-08-03",
          "pole_end_date": "2022-09-23",
          "pole_window_bars": 38,
          "pole_return_pct": 112.2318,
          "pole_start_close": 54.186,
          "pole_end_close": 115.0,
          "pole_interval_high": 116.15,
          "pole_interval_low": 53.6442,
          "pole_volume_mean": 2578947.3684,
          "pole_recency_bars": 190,
          "flag_start_date": "2022-09-26",
          "flag_end_date": "2022-09-28",
          "flag_duration_bars": 3,
          "flag_high": 114.13,
          "flag_low": 111.474,
          "flag_depth_pct": 2.3272,
          "flag_upper_half_floor": 84.8971,
          "flag_upper_half_margin_pct": 42.5191,
          "flag_volume_mean": 500000.0,
          "flag_volume_ratio_vs_pole": 0.193878,
          "flag_recency_bars": 187,
          "recency_weight": 0.0,
          "is_recent_flag": false,
          "calibration_version": "cross_detector_v1",
          "calibration_source_detector": "high_tight_flag",
          "raw_quality_score": 87.207395,
          "raw_readiness_score": 70.5,
          "raw_confidence": 0.814293,
          "raw_confidence_pct": 81.429341,
          "normalized_quality_score_0_1": 0.796366,
          "normalized_readiness_score_0_1": 0.276316,
          "normalized_confidence_0_1": 0.791221,
          "calibrated_quality_score": 79.636594,
          "calibrated_readiness_score": 27.631579,
          "calibrated_confidence": 0.719526,
          "calibrated_confidence_pct": 71.9526,
          "aggregation_rank_score": 0.650094,
          "candidate_setup_score": 60.666439,
          "setup_score_method": "candidate_blend_v1"
        },
        "checks": {
          "pole_window_in_range": true,
          "pole_return_threshold_met": true,
          "flag_duration_in_range": true,
          "flag_depth_in_range": true,
          "flag_in_upper_half": true,
          "flag_volume_contracting": true
        },
        "notes": [
          "pole_and_flag_validated",
          "pivot_from_flag_high",
          "cross_detector_calibration_v1_applied"
        ]
      },
      {
        "pattern": "high_tight_flag",
        "timeframe": "daily",
        "source_detector": "high_tight_flag",
        "pivot_price": 114.13,
        "pivot_type": "flag_high",
        "pivot_date": "2022-09-26",
        "distance_to_pivot_pct": null,
        "setup_score": 60.663839,
        "quality_score": 79.636594,
        "readiness_score": 27.631579,
        "confidence": 0.719266,
        "confidence_pct": 71.9266,
        "metrics": {
          "pole_rank": 4,
          "pole_start_date": "2022-08-04",
          "pole_end_date": "2022-09-23",
          "pole_window_bars": 37,
          "pole_return_pct": 111.7773,
          "pole_start_close": 54.3023,
          "pole_end_close": 115.0,
          "pole_interval_high": 116.15,
          "pole_interval_low": 53.7593,
          "pole_volume_mean": 2621621.6216,
          "pole_recency_bars": 190,
          "flag_start_date": "2022-09-26",
          "flag_end_date": "2022-09-28",
          "flag_duration_bars": 3,
          "flag_high": 114.13,
          "flag_low": 111.474,
          "flag_depth_pct": 2.3272,
          "flag_upper_half_floor": 84.9547,
          "flag_upper_half_margin_pct": 42.5053,
          "flag_volume_mean": 500000.0,
          "flag_volume_ratio_vs_pole": 0.190722,
          "flag_recency_bars": 187,
          "recency_weight": 0.0,
          "is_recent_flag": false,
          "calibration_version": "cross_detector_v1",
          "calibration_source_detector": "high_tight_flag",
          "raw_quality_score": 87.207395,
          "raw_readiness_score": 70.5,
          "raw_confidence": 0.813987,
          "raw_confidence_pct": 81.398665,
          "normalized_quality_score_0_1": 0.796366,
          "normalized_readiness_score_0_1": 0.276316,
          "normalized_confidence_0_1": 0.790749,
          "calibrated_quality_score": 79.636594,
          "calibrated_readiness_score": 27.631579,
          "calibrated_confidence": 0.719266,
          "calibrated_confidence_pct": 71.9266,
          "aggregation_rank_score": 0.649951,
          "candidate_setup_score": 60.663839,
          "setup_score_method": "candidate_blend_v1"
        },
        "checks": {
          "pole_window_in_range": true,
          "pole_return_threshold_met": true,
          "flag_duration_in_range": true,
          "flag_depth_in_range": true,
          "flag_in_upper_half": true,
          "flag_volume_contracting": true
        },
        "notes": [
          "pole_and_flag_validated",
          "pivot_from_flag_high",
          "cross_detector_calibration_v1_applied"
        ]
      },
      {
        "pattern": "high_tight_flag",
        "timeframe": "daily",
        "source_detector": "high_tight_flag",
        "pivot_price": 114.13,
        "pivot_type": "flag_high",
        "pivot_date": "2022-09-26",
        "distance_to_pivot_pct": null,
        "setup_score": 60.661259,
        "quality_score": 79.636594,
        "readiness_score": 27.631579,
        "confidence": 0.719008,
        "confidence_pct": 71.9008,
        "metrics": {
          "pole_rank": 5,
          "pole_start_date": "2022-08-05",
          "pole_end_date": "2022-09-23",
          "pole_window_bars": 36,
          "pole_return_pct": 111.3248,
          "pole_start_close": 54.4186,
          "pole_end_close": 115.0,
          "pole_interval_high": 116.15,
          "pole_interval_low": 53.8744,
          "pole_volume_mean": 2666666.6667,
          "pole_recency_bars": 190,
          "flag_start_date": "2022-09-26",
          "flag_end_date": "2022-09-28",
          "flag_duration_bars": 3,
          "flag_high": 114.13,
          "flag_low": 111.474,
          "flag_depth_pct": 2.3272,
          "flag_upper_half_floor": 85.0122,
          "flag_upper_half_margin_pct": 42.4914,
          "flag_volume_mean": 500000.0,
          "flag_volume_ratio_vs_pole": 0.1875,
          "flag_recency_bars": 187,
          "recency_weight": 0.0,
          "is_recent_flag": false,
          "calibration_version": "cross_detector_v1",
          "calibration_source_detector": "high_tight_flag",
          "raw_quality_score": 87.207395,
          "raw_readiness_score": 70.5,
          "raw_confidence": 0.813681,
          "raw_confidence_pct": 81.368121,
          "normalized_quality_score_0_1": 0.796366,
          "normalized_readiness_score_0_1": 0.276316,
          "normalized_confidence_0_1": 0.790279,
          "calibrated_quality_score": 79.636594,
          "calibrated_readiness_score": 27.631579,
          "calibrated_confidence": 0.719008,
          "calibrated_confidence_pct": 71.9008,
          "aggregation_rank_score": 0.649809,
          "candidate_setup_score": 60.661259,
          "setup_score_method": "candidate_blend_v1"
        },
        "checks": {
          "pole_window_in_range": true,
          "pole_return_threshold_met": true,
          "flag_duration_in_range": true,
          "flag_depth_in_range": true,
          "flag_in_upper_half": true,
          "flag_volume_contracting": true
        },
        "notes": [
          "pole_and_flag_validated",
          "pivot_from_flag_high",
          "cross_detector_calibration_v1_applied"
        ]
      },
      {
        "pattern": "first_pullback",
        "timeframe": "daily",
        "source_detector": "first_pullback",
        "pivot_price": 116.15,
        "pivot_type": "pullback_high",
        "pivot_date": "2022-09-23",
        "distance_to_pivot_pct": null,
        "setup_score": 57.291937,
        "quality_score": 93.939394,
        "readiness_score": 0.0,
        "confidence": 0.562527,
        "confidence_pct": 56.2527,
        "metrics": {
          "ma_period_bars": 21,
          "ma_touch_band_pct": 1.5,
          "touch_separation_bars": 5,
          "tests_count": 42,
          "is_first_test": false,
          "is_second_test": false,
          "latest_test_close": 112.0,
          "latest_test_low": 110.88,
          "latest_test_ma": 112.0,
          "ma_touch_distance_pct": 1.0,
          "pullback_span_bars": 283,
          "pullback_high_price": 116.15,
          "pullback_high_date": "2022-09-23",
          "pullback_span_low": 46.7372,
          "pullback_depth_points": 69.4128,
          "pullback_depth_pct_from_high": 59.761335,
          "resumption_high_price": null,
          "resumption_high_date": null,
          "resumption_close": null,
          "resumption_ema10": null,
          "resumption_volume_ratio_20d": null,
          "resumption_trigger_offset_bars": null,
          "pivot_mode_chosen": "pullback_high",
          "pivot_mode_alternate": "resumption_high",
          "pivot_choice_reason": "fallback_no_resumption_trigger",
          "pullback_orderliness_score": 0.916667,
          "pullback_avg_range_pct": 2.0,
          "pullback_close_volatility_pct": 0.0,
          "pullback_lower_high_ratio": 1.0,
          "calibration_version": "cross_detector_v1",
          "calibration_source_detector": "first_pullback",
          "raw_quality_score": 91.666667,
          "raw_readiness_score": 0.0,
          "raw_confidence": 0.6925,
          "raw_confidence_pct": 69.25,
          "normalized_quality_score_0_1": 0.939394,
          "normalized_readiness_score_0_1": 0.0,
          "normalized_confidence_0_1": 0.632143,
          "calibrated_quality_score": 93.939394,
          "calibrated_readiness_score": 0.0,
          "calibrated_confidence": 0.562527,
          "calibrated_confidence_pct": 56.2527,
          "aggregation_rank_score": 0.544238,
          "candidate_setup_score": 57.291937,
          "setup_score_method": "candidate_blend_v1"
        },
        "checks": {
          "ma_touch_detected": true,
          "ma_touch_within_band": true,
          "is_first_test": false,
          "is_second_test": false,
          "pullback_depth_positive": true,
          "pullback_orderly": true,
          "resumption_trigger_confirmed": false,
          "resumption_price_reclaimed_ema10": false,
          "resumption_volume_supportive": false,
          "pivot_mode_pullback_high": true,
          "pivot_mode_resumption_high": false
        },
        "notes": [
          "ma_touch_test_counting_complete",
          "resumption_trigger_evaluated",
          "cross_detector_calibration_v1_applied"
        ]
      },
      {
        "pattern": "nr7_inside_day",
        "timeframe": "daily",
        "source_detector": "nr7_inside_day",
        "pivot_price": 113.12,
        "pivot_type": "nr7_trigger_high",
        "pivot_date": "2023-06-16",
        "distance_to_pivot_pct": 1.000000000000004,
        "setup_score": 73.460653,
        "quality_score": 80.836084,
        "readiness_score": 65.217391,
        "confidence": 0.617472,
        "confidence_pct": 61.7472,
        "metrics": {
          "trigger_rank": 1,
          "trigger_subtype": "nr7",
          "trigger_is_nr7": true,
          "trigger_is_inside_day": false,
          "trigger_high": 113.12,
          "trigger_low": 110.88,
          "trigger_range_points": 2.24,
          "trigger_range_pct": 1.980198,
          "range_min_7d_points": 2.24,
          "range_rank_7d": 7,
          "trigger_volume": 1000000.0,
          "volume_mean_20d": 1000000.0,
          "volume_ratio_20d": 1.0,
          "ema21_trigger": 112.0,
          "close_above_ema21": true,
          "trigger_recency_bars": 0,
          "trigger_score": 0.661386,
          "calibration_version": "cross_detector_v1",
          "calibration_source_detector": "nr7_inside_day",
          "raw_quality_score": 56.376238,
          "raw_readiness_score": 54.0,
          "raw_confidence": 0.563762,
          "raw_confidence_pct": 56.376238,
          "normalized_quality_score_0_1": 0.808361,
          "normalized_readiness_score_0_1": 0.652174,
          "normalized_confidence_0_1": 0.627177,
          "calibrated_quality_score": 80.836084,
          "calibrated_readiness_score": 65.217391,
          "calibrated_confidence": 0.617472,
          "calibrated_confidence_pct": 61.7472,
          "aggregation_rank_score": 0.672135,
          "candidate_setup_score": 73.460653,
          "setup_score_method": "candidate_blend_v1"
        },
        "checks": {
          "trigger_detected": true,
          "trigger_is_nr7": true,
          "trigger_is_inside_day": false,
          "trigger_is_combined": false,
          "range_is_7d_min": true,
          "inside_day_structure_valid": false,
          "volume_not_expanded": true,
          "context_close_above_ema21": true
        },
        "notes": [
          "trigger_detector_lightweight_scoring",
          "subtype_nr7",
          "cross_detector_calibration_v1_applied"
        ]
      },
      {
        "pattern": "nr7_inside_day",
        "timeframe": "daily",
        "source_detector": "nr7_inside_day",
        "pivot_price": 113.12,
        "pivot_type": "nr7_trigger_high",
        "pivot_date": "2023-06-15",
        "distance_to_pivot_pct": 1.000000000000004,
        "setup_score": 72.047421,
        "quality_score": 79.980528,
        "readiness_score": 62.826087,
        "confidence": 0.6069,
        "confidence_pct": 60.69,
        "metrics": {
          "trigger_rank": 2,
          "trigger_subtype": "nr7",
          "trigger_is_nr7": true,
          "trigger_is_inside_day": false,
          "trigger_high": 113.12,
          "trigger_low": 110.88,
          "trigger_range_points": 2.24,
          "trigger_range_pct": 1.980198,
          "range_min_7d_points": 2.24,
          "range_rank_7d": 7,
          "trigger_volume": 1000000.0,
          "volume_mean_20d": 1000000.0,
          "volume_ratio_20d": 1.0,
          "ema21_trigger": 112.0,
          "close_above_ema21": true,
          "trigger_recency_bars": 1,
          "trigger_score": 0.654386,
          "calibration_version": "cross_detector_v1",
          "calibration_source_detector": "nr7_inside_day",
          "raw_quality_score": 55.991238,
          "raw_readiness_score": 52.9,
          "raw_confidence": 0.559912,
          "raw_confidence_pct": 55.991238,
          "normalized_quality_score_0_1": 0.799805,
          "normalized_readiness_score_0_1": 0.628261,
          "normalized_confidence_0_1": 0.620539,
          "calibrated_quality_score": 79.980528,
          "calibrated_readiness_score": 62.826087,
          "calibrated_confidence": 0.6069,
          "calibrated_confidence_pct": 60.69,
          "aggregation_rank_score": 0.659398,
          "candidate_setup_score": 72.047421,
          "setup_score_method": "candidate_blend_v1"
        },
        "checks": {
          "trigger_detected": true,
          "trigger_is_nr7": true,
          "trigger_is_inside_day": false,
          "trigger_is_combined": false,
          "range_is_7d_min": true,
          "inside_day_structure_valid": false,
          "volume_not_expanded": true,
          "context_close_above_ema21": true
        },
        "notes": [
          "trigger_detector_lightweight_scoring",
          "subtype_nr7",
          "cross_detector_calibration_v1_applied"
        ]
      },
      {
        "pattern": "nr7_inside_day",
        "timeframe": "daily",
        "source_detector": "nr7_inside_day",
        "pivot_price": 113.12,
        "pivot_type": "nr7_trigger_high",
        "pivot_date": "2023-06-14",
        "distance_to_pivot_pct": 1.000000000000004,
        "setup_score": 70.634179,
        "quality_score": 79.124972,
        "readiness_score": 60.434783,
        "confidence": 0.596327,
        "confidence_pct": 59.63270000000001,
        "metrics": {
          "trigger_rank": 3,
          "trigger_subtype": "nr7",
          "trigger_is_nr7": true,
          "trigger_is_inside_day": false,
          "trigger_high": 113.12,
          "trigger_low": 110.88,
          "trigger_range_points": 2.24,
          "trigger_range_pct": 1.980198,
          "range_min_7d_points": 2.24,
          "range_rank_7d": 7,
          "trigger_volume": 1000000.0,
          "volume_mean_20d": 1000000.0,
          "volume_ratio_20d": 1.0,
          "ema21_trigger": 112.0,
          "close_above_ema21": true,
          "trigger_recency_bars": 2,
          "trigger_score": 0.647386,
          "calibration_version": "cross_detector_v1",
          "calibration_source_detector": "nr7_inside_day",
          "raw_quality_score": 55.606238,
          "raw_readiness_score": 51.8,
          "raw_confidence": 0.556062,
          "raw_confidence_pct": 55.606238,
          "normalized_quality_score_0_1": 0.79125,
          "normalized_readiness_score_0_1": 0.604348,
          "normalized_confidence_0_1": 0.613901,
          "calibrated_quality_score": 79.124972,
          "calibrated_readiness_score": 60.434783,
          "calibrated_confidence": 0.596327,
          "calibrated_confidence_pct": 59.6327,
          "aggregation_rank_score": 0.646662,
          "candidate_setup_score": 70.634179,
          "setup_score_method": "candidate_blend_v1"
        },
        "checks": {
          "trigger_detected": true,
          "trigger_is_nr7": true,
          "trigger_is_inside_day": false,
          "trigger_is_combined": false,
          "range_is_7d_min": true,
          "inside_day_structure_valid": false,
          "volume_not_expanded": true,
          "context_close_above_ema21": true
        },
        "notes": [
          "trigger_detector_lightweight_scoring",
          "subtype_nr7",
          "cross_detector_calibration_v1_applied"
        ]
      },
      {
        "pattern": "nr7_inside_day",
        "timeframe": "daily",
        "source_detector": "nr7_inside_day",
        "pivot_price": 113.12,
        "pivot_type": "nr7_trigger_high",
        "pivot_date": "2023-06-13",
        "distance_to_pivot_pct": 1.000000000000004,
        "setup_score": 69.220947,
        "quality_score": 78.269417,
        "readiness_score": 58.043478,
        "confidence": 0.585755,
        "confidence_pct": 58.575500000000005,
        "metrics": {
          "trigger_rank": 4,
          "trigger_subtype": "nr7",
          "trigger_is_nr7": true,
          "trigger_is_inside_day": false,
          "trigger_high": 113.12,
          "trigger_low": 110.88,
          "trigger_range_points": 2.24,
          "trigger_range_pct": 1.980198,
          "range_min_7d_points": 2.24,
          "range_rank_7d": 7,
          "trigger_volume": 1000000.0,
          "volume_mean_20d": 1000000.0,
          "volume_ratio_20d": 1.0,
          "ema21_trigger": 112.0,
          "close_above_ema21": true,
          "trigger_recency_bars": 3,
          "trigger_score": 0.640386,
          "calibration_version": "cross_detector_v1",
          "calibration_source_detector": "nr7_inside_day",
          "raw_quality_score": 55.221238,
          "raw_readiness_score": 50.7,
          "raw_confidence": 0.552212,
          "raw_confidence_pct": 55.221238,
          "normalized_quality_score_0_1": 0.782694,
          "normalized_readiness_score_0_1": 0.580435,
          "normalized_confidence_0_1": 0.607263,
          "calibrated_quality_score": 78.269417,
          "calibrated_readiness_score": 58.043478,
          "calibrated_confidence": 0.585755,
          "calibrated_confidence_pct": 58.5755,
          "aggregation_rank_score": 0.633926,
          "candidate_setup_score": 69.220947,
          "setup_score_method": "candidate_blend_v1"
        },
        "checks": {
          "trigger_detected": true,
          "trigger_is_nr7": true,
          "trigger_is_inside_day": false,
          "trigger_is_combined": false,
          "range_is_7d_min": true,
          "inside_day_structure_valid": false,
          "volume_not_expanded": true,
          "context_close_above_ema21": true
        },
        "notes": [
          "trigger_detector_lightweight_scoring",
          "subtype_nr7",
          "cross_detector_calibration_v1_applied"
        ]
      },
      {
        "pattern": "nr7_inside_day",
        "timeframe": "daily",
        "source_detector": "nr7_inside_day",
        "pivot_price": 113.12,
        "pivot_type": "nr7_trigger_high",
        "pivot_date": "2023-06-12",
        "distance_to_pivot_pct": 1.000000000000004,
        "setup_score": 67.807714,
        "quality_score": 77.413861,
        "readiness_score": 55.652174,
        "confidence": 0.575183,
        "confidence_pct": 57.518299999999996,
        "metrics": {
          "trigger_rank": 5,
          "trigger_subtype": "nr7",
          "trigger_is_nr7": true,
          "trigger_is_inside_day": false,
          "trigger_high": 113.12,
          "trigger_low": 110.88,
          "trigger_range_points": 2.24,
          "trigger_range_pct": 1.980198,
          "range_min_7d_points": 2.24,
          "range_rank_7d": 7,
          "trigger_volume": 1000000.0,
          "volume_mean_20d": 1000000.0,
          "volume_ratio_20d": 1.0,
          "ema21_trigger": 112.0,
          "close_above_ema21": true,
          "trigger_recency_bars": 4,
          "trigger_score": 0.633386,
          "calibration_version": "cross_detector_v1",
          "calibration_source_detector": "nr7_inside_day",
          "raw_quality_score": 54.836238,
          "raw_readiness_score": 49.6,
          "raw_confidence": 0.548362,
          "raw_confidence_pct": 54.836238,
          "normalized_quality_score_0_1": 0.774139,
          "normalized_readiness_score_0_1": 0.556522,
          "normalized_confidence_0_1": 0.600625,
          "calibrated_quality_score": 77.413861,
          "calibrated_readiness_score": 55.652174,
          "calibrated_confidence": 0.575183,
          "calibrated_confidence_pct": 57.5183,
          "aggregation_rank_score": 0.62119,
          "candidate_setup_score": 67.807714,
          "setup_score_method": "candidate_blend_v1"
        },
        "checks": {
          "trigger_detected": true,
          "trigger_is_nr7": true,
          "trigger_is_inside_day": false,
          "trigger_is_combined": false,
          "range_is_7d_min": true,
          "inside_day_structure_valid": false,
          "volume_not_expanded": true,
          "context_close_above_ema21": true
        },
        "notes": [
          "trigger_detector_lightweight_scoring",
          "subtype_nr7",
          "cross_detector_calibration_v1_applied"
        ]
      }
    ],
    "explain": {
      "passed_checks": [
        "detected",
        "tight_run_detected",
        "pole_candidates_found",
        "flag_candidates_validated",
        "ma_tests_identified",
        "nr7_inside_day_trigger_found",
        "trigger_subtypes_labeled",
        "cross_detector_calibration_applied",
        "detector_pipeline_executed",
        "primary_pattern_selected",
        "setup_score_ok",
        "quality_floor_ok",
        "readiness_floor_ok",
        "in_early_zone",
        "atr14_within_limit",
        "volume_sufficient",
        "rs_rating_ok"
      ],
      "failed_checks": [
        "not_detected",
        "cup_structure_not_found",
        "vcp_contracting_depth_failed",
        "vcp_tight_near_highs_failed",
        "vcp_score_below_legacy_threshold",
        "vcp_insufficient_bases",
        "not_implemented",
        "rs_leadership_insufficient",
        "stage_not_ok",
        "ma_alignment_insufficient"
      ],
      "key_levels": {
        "pivot_price": 113.12
      },
      "invalidation_flags": []
    }
  }
}
